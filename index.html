<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>In memoria di Ross</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f8f9fa;
            color: #333;
            line-height: 1.6;
        }
        .header {
            background-color: #343a40;
            color: white;
            padding: 3rem 0;
            text-align: center;
            margin-bottom: 2rem;
        }
        .carousel-item img {
            height: 500px;
            object-fit: cover;
        }
        .memory-section {
            background-color: white;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            padding: 2rem;
            margin-bottom: 2rem;
        }
        .memory-card {
            border-left: 4px solid #6c757d;
            padding: 1rem;
            margin-bottom: 1rem;
            background-color: #f8f9fa;
        }
        .memory-author {
            font-weight: bold;
            color: #343a40;
        }
        .memory-date {
            color: #6c757d;
            font-size: 0.8rem;
        }
        .upload-section {
            background-color: white;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            padding: 2rem;
        }
        footer {
            background-color: #343a40;
            color: white;
            text-align: center;
            padding: 1.5rem 0;
            margin-top: 2rem;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>In Loving Memory of <span id="friendName">[Friend's Name]</span></h1>
        <p class="lead"><span id="birthDate">[Birth Date]</span> - <span id="deathDate">[Death Date]</span></p>
    </div>

    <div class="container">
        <!-- Photo Carousel -->
        <div id="memoryCarousel" class="carousel slide mb-5" data-bs-ride="carousel">
            <div class="carousel-indicators">
                <!-- Indicators will be added dynamically -->
            </div>
            <div class="carousel-inner rounded">
                <!-- Carousel items will be added dynamically -->
                <div class="carousel-item active">
                    <img src="https://via.placeholder.com/800x500?text=Add+Photo+of+Your+Friend" class="d-block w-100" alt="Memory photo">
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#memoryCarousel" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#memoryCarousel" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>

        <!-- Memories Section -->
        <div class="memory-section">
            <h2 class="mb-4">Shared Memories</h2>
            <div id="memoriesContainer">
                <!-- Sample memory - can be removed -->
                <div class="memory-card">
                    <p class="memory-text">In memoria del bomber, condividete qui tutti i ricordi che avete di lui.s</p>
                    <p class="memory-author">- John Doe</p>
                    <p class="memory-date">July 15, 2023</p>
                </div>
            </div>
        </div>

        <!-- Upload Section -->
        <div class="upload-section">
            <h2 class="mb-4">Share Your Memories and Photos</h2>
            <form id="memoryForm">
                <div class="mb-3">
                    <label for="memoryText" class="form-label">Your Memory</label>
                    <textarea class="form-control" id="memoryText" rows="3" required></textarea>
                </div>
                <div class="mb-3">
                    <label for="yourName" class="form-label">Your Name</label>
                    <input type="text" class="form-control" id="yourName" required>
                </div>
                <div class="mb-3">
                    <label for="photoUpload" class="form-label">Upload a Photo (optional)</label>
                    <input class="form-control" type="file" id="photoUpload" accept="image/*">
                </div>
                <button type="submit" class="btn btn-primary">Share Memory</button>
            </form>
        </div>
    </div>

    <footer>
        <p>Created with love by <span id="creatorName">[Your Name]</span> and friends</p>
    </footer>

    <!-- Bootstrap JS and dependencies -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // Replace these with your friend's information
        document.getElementById('friendName').textContent = "Your Friend's Name";
        document.getElementById('birthDate').textContent = "January 1, 1980";
        document.getElementById('deathDate').textContent = "July 1, 2023";
        document.getElementById('creatorName').textContent = "Your Name";

        // Sample photos - replace with actual photos of your friend
        const photos = [
            {src: "https://via.placeholder.com/800x500?text=Photo+1", alt: "Memory photo 1"},
            {src: "https://via.placeholder.com/800x500?text=Photo+2", alt: "Memory photo 2"},
            {src: "https://via.placeholder.com/800x500?text=Photo+3", alt: "Memory photo 3"}
        ];

        // Initialize carousel with photos
        const carouselInner = document.querySelector('.carousel-inner');
        const carouselIndicators = document.querySelector('.carousel-indicators');
        
        // Clear the initial placeholder
        carouselInner.innerHTML = '';
        
        photos.forEach((photo, index) => {
            // Create carousel item
            const item = document.createElement('div');
            item.className = `carousel-item ${index === 0 ? 'active' : ''}`;
            item.innerHTML = `<img src="${photo.src}" class="d-block w-100" alt="${photo.alt}">`;
            carouselInner.appendChild(item);
            
            // Create indicator
            const indicator = document.createElement('button');
            indicator.type = 'button';
            indicator.setAttribute('data-bs-target', '#memoryCarousel');
            indicator.setAttribute('data-bs-slide-to', index.toString());
            if (index === 0) indicator.className = 'active';
            indicator.setAttribute('aria-current', index === 0 ? 'true' : 'false');
            indicator.setAttribute('aria-label', `Slide ${index + 1}`);
            carouselIndicators.appendChild(indicator);
        });

        // Handle memory submission
        document.getElementById('memoryForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const memoryText = document.getElementById('memoryText').value;
            const yourName = document.getElementById('yourName').value;
            const photoUpload = document.getElementById('photoUpload').files[0];
            
            // Create new memory element
            const memoryCard = document.createElement('div');
            memoryCard.className = 'memory-card';
            
            const today = new Date();
            const dateString = today.toLocaleDateString('en-US', { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
            
            memoryCard.innerHTML = `
                <p class="memory-text">${memoryText}</p>
                <p class="memory-author">- ${yourName}</p>
                <p class="memory-date">${dateString}</p>
            `;
            
            // Add to memories container
            document.getElementById('memoriesContainer').prepend(memoryCard);
            
            // Handle photo upload if present
            if (photoUpload) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    // Add new photo to carousel
                    const newIndex = photos.length;
                    photos.push({src: e.target.result, alt: `Memory photo ${newIndex + 1}`});
                    
                    // Create new carousel item
                    const item = document.createElement('div');
                    item.className = 'carousel-item';
                    item.innerHTML = `<img src="${e.target.result}" class="d-block w-100" alt="Uploaded memory photo">`;
                    carouselInner.appendChild(item);
                    
                    // Create new indicator
                    const indicator = document.createElement('button');
                    indicator.type = 'button';
                    indicator.setAttribute('data-bs-target', '#memoryCarousel');
                    indicator.setAttribute('data-bs-slide-to', newIndex.toString());
                    indicator.setAttribute('aria-label', `Slide ${newIndex + 1}`);
                    carouselIndicators.appendChild(indicator);
                };
                reader.readAsDataURL(photoUpload);
            }
            
            // Reset form
            this.reset();
            
            // Show thank you message
            alert('Thank you for sharing your memory. It has been added to the page.');
        });
    </script>
</body>
</html>